@model SmartSchool.Models.Employee.EmployeeRegisterModel
@{
    ViewBag.Title = "RegisterEmployee";
    Layout = "~/Views/Shared/_Layout.cshtml";
    Languges CurrentLanguage = ViewBag.CurrentLanguage;
    string pull = "";
    string buttonpull = "";
    string modalpositon = "";
    if (CurrentLanguage == Languges.English)
    {
        pull = "pull-left";
        buttonpull = "pull-right";
        modalpositon = "left";
    }
    else
    {
        pull = "pull-right";
        buttonpull = "pull-left";
        modalpositon = "right";

    }

    <link href="../../Content/Wizard/WizardStyle.css" rel="stylesheet" />
    <link href="../../Maps/MapStyle.css" rel="stylesheet" />
    <style>
        .stepwizard-step > p {
            text-align: unset;
        }

        .labeltitle {
            margin-top: 28px;
        }

        .htitles {
            margin-bottom: 25px;
        }

        .pac-container {
            background-color: #FFF;
            z-index: 20;
            position: fixed;
            display: inline-block;
            float: left;
        }

        .modal {
            margin-top: 100px;
            z-index: 20;
        }

        .modal-backdrop {
            z-index: 10;
            /*opacity:0 !important;*/
        }

        input[type=checkbox], input[type=radio] {
            float: none;
        }

        input[type=file] {
            height: auto;
        }

            input[type=file]::file-selector-button {
                margin-right: 20px;
                border: none;
                background: #3699ff;
                padding: 10px 20px;
                border-radius: 10px;
                color: #fff;
                cursor: pointer;
                transition: background .2s ease-in-out;
            }

                input[type=file]::file-selector-button:hover {
                    filter: brightness(0.9);
                }

        .container::after {
            display: none;
        }
    </style>
}

<div class="head-body-col">
    <span onclick="goBack()">
        <!-- back  icon-->
        <i class="fa fa-arrow-left" aria-hidden="true"></i>
    </span>
    <h2>@R.GetResource("Employees")</h2>
</div>
<script src="~/Scripts/jquery-3.1.1.min.js"></script>

<script src="https://maps.googleapis.com/maps/api/js?key=@System.Configuration.ConfigurationManager.AppSettings["GoogleAPIKey"]&libraries=places"></script>
<script src="../../Maps/GoogleMaps.js"></script>
<script src="../../Content/Wizard/wizardJS.js"></script>


<div class="inner-Container">
    <div class="light-component inner">
        <div class="container" style="margin-top:20px;">
            @*Headers*@
            <div class="stepwizard">
                <div class="stepwizard-row setup-panel">
                    <div class="stepwizard-step">
                        <a href="#step-1" type="button" class="btn btn-info btn-circle">1</a>
                        <p> @R.GetResource("PersonalInformation")</p>
                    </div>
                    <div class="stepwizard-step">
                        <a href="#step-2" type="button" class="btn btn-default btn-circle" disabled="disabled">2</a>
                        <p>@R.GetResource("JobDetails")</p>
                    </div>
                    <div class="stepwizard-step">
                        <a href="#step-3" type="button" class="btn btn-default btn-circle" disabled="disabled">3</a>
                        <p>@R.GetResource("Bus")</p>
                    </div>
                    <div class="stepwizard-step">
                        <a href="#step-4" type="button" class="btn btn-default btn-circle" disabled="disabled">4</a>
                        <p>@R.GetResource("Address")</p>
                    </div>
                    <div class="stepwizard-step">
                        <a href="#step-5" type="button" class="btn btn-default btn-circle" disabled="disabled">5</a>
                        <p>@R.GetResource("SalaryDetails")</p>
                    </div>
                    <div class="stepwizard-step">
                        <a href="#step-6" type="button" class="btn btn-default btn-circle" disabled="disabled">6</a>
                        <p>@R.GetResource("BankDetails")</p>
                    </div>
                </div>
            </div>


            <form id="addemployeedata" enctype="multipart/form-data">
                <div class="row setup-content" id="step-1">
                    <div class="col-xs-10">
                        <div class="col-md-10">
                            <h4 class="htitles">@R.GetResource("PersonalInformation")</h4>
                            <div class="row">
                                <div class="col-md-2 labeltitle">
                                    <label>@R.GetResource("StaffArabicName")</label>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label class="control-label">@R.GetResource("GivenName")</label>
                                        @Html.TextBoxFor(m => m.FirstArabicName, new { @class = "form-control", required = "required" })
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label class="control-label">@R.GetResource("FatherName")</label>
                                        @Html.TextBoxFor(m => m.SecondArabicName, new { @class = "form-control", required = "required" })
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label class="control-label">@R.GetResource("ThirdName")</label>
                                        @Html.TextBoxFor(m => m.ThirdArabicName, new { @class = "form-control" })
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label class="control-label">@R.GetResource("FamilyName")</label>
                                        @Html.TextBoxFor(m => m.FourthArabicName, new { @class = "form-control", required = "required" })
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("StaffEnglishName")</label>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.FirstEnglishName, new { @class = "form-control", required = "required" })
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.SecondEnglishName, new { @class = "form-control", required = "required" })
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.ThirdEnglishName, new { @class = "form-control" })
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.FourthEnglishName, new { @class = "form-control", required = "required" })
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("Gender")</label>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label class="control-label">@R.GetResource("Male")</label>
                                        @Html.RadioButtonFor(model => model.Gender, "gender", new { Value = 0, @checked = true })

                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label class="control-label">@R.GetResource("Female")</label>
                                        @Html.RadioButtonFor(model => model.Gender, "gender", new { Value = 1 })
                                    </div>
                                </div>

                            </div>

                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("Nationality")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.EditorFor(model => model.Nationality, "SelectListRequired", new { List = Model.NationalityList, Disabled = false })
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("NationalNumber")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.NationalNumber, new { @class = "form-control", Name = "number", required = "required" })
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("ResidencyNumber")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.ResidencyNumber, new { @class = "form-control", Name = "number", required = "required" })
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("CivilRegisterNumber")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.CivilNumber, new { @class = "form-control", Name = "number" })
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("DateOfBirth")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <div class="form-control-wrapper">
                                            @Html.TextBoxFor(model => model.DateofBirth, new { @class = "date floating-label mdl-textfield__input", type = "date", required = "required", Value = DateTime.Parse(Model.DateofBirth).ToString("yyyy-MM-dd") })
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("MaritalStatus")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.EditorFor(model => model.MaritalStatus, "SelectListRequired", new { List = Model.MaritalStatusList, Disabled = false })
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("Attachment")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <div class="form-control-wrapper">
                                            <input type="file" class="form-control" name="Attachment" id="Attachment" accept=".pdf" onchange="readFile(this)">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <button class="btn btn-primary-custom forms FirstnextBtn  @buttonpull" type="button">@R.GetResource("Next")</button>
                        </div>
                    </div>

                    <div class="col-md-2">
                        <div class="profile-userpic">
                            <img src="~/AppContent/Images/avatar.jpeg" id="profileImage" style="border-radius:unset; width:300px; height:175px;" class="img-responsive" alt="">
                            <input id="fileuploader" name="fileuploader" type="file" onchange="readURL(this);" class="btn btn-info btn-default " style="display:none;" accept="image/gif, image/jpeg, image/png" />
                            <button type="button" style="width:161px;" onclick="showuploadfile();" class="btn btn-info btn-default "><i class="fa fa-upload"></i> @R.GetResource("Upload")</button>
                        </div>

                        <div class="row">
                            <img id="FlagImg" height="100" width="200" src="" style="display:none;margin-top:100px;" />
                        </div>
                    </div>
                </div>

                <div class="row setup-content" id="step-2">
                    <div class="col-xs-12">
                        <div class="col-md-12">
                            <h4 class="htitles">@R.GetResource("JobDetails")</h4>
                            @*<div class="row">
                                    <div class="col-md-2">
                                        <label>@R.GetResource("SchoolStaffNumber")</label>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            @Html.TextBoxFor(m => m.SchoolStaffNumber, new { @class = "form-control", Name = "number" })
                                        </div>
                                    </div>
                                </div>*@
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("Department")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.EditorFor(model => model.Department, "SelectList", new { List = Model.DepartmentsList, Disabled = false })
                                    </div>
                                </div>


                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("Designation")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.EditorFor(model => model.Designation, "SelectListRequired", new { List = Model.DesignationList, Disabled = false })
                                    </div>
                                </div>


                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("JoiningDate")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <div class="form-control-wrapper">
                                            @Html.TextBoxFor(model => model.DateOfJoining, new { @class = "date floating-label mdl-textfield__input", type = "date", placeholder = "dd/mm/yyyy", required = "required", Value = DateTime.Parse(Model.DateOfJoining).ToString("yyyy-MM-dd") })
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("Qualification")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.EditorFor(model => model.Qualification, "SelectListRequired", new { List = Model.QualificationList, Disabled = false })
                                    </div>
                                </div>


                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("Specialization")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.EditorFor(model => model.Specialization, "SelectListRequired", new { List = Model.SpecializationList, Disabled = false })
                                    </div>
                                </div>


                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("YearsOfExperience")</label>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.YearOfExperience, new { @class = "form-control", Name = "number" })
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("YearOfGraduation")</label>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.YearofGraduation, new { @class = "form-control", Name = "number" })
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("Institution")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.Institution, new { @class = "form-control" })
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-primary-custom forms nextBtn  @buttonpull" type="button">@R.GetResource("Next")</button>
                        </div>
                    </div>
                </div>

                <div class="row setup-content" id="step-3">
                    <div class="col-xs-12">
                        <div class="col-md-12">
                            <h3>@R.GetResource("Bus")</h3>
                            <div class="row">

                                <div class="checkbox rtl checkbox-aqua">
                                    @Html.EditorFor(a => a.BusAttendance, "CheckBox", new { Value = Model.BusAttendance })
                                    <label for="BusAttendance">
                                        @R.GetResource("BusAttendance")
                                    </label>
                                </div>


                            </div>
                            <div class="row">

                                <div class="checkbox rtl checkbox-aqua">
                                    @Html.EditorFor(a => a.UseSchoolTransportation, "CheckBox", new { Value = Model.UseSchoolTransportation })
                                    <label for="UseSchoolTransportation">
                                        @R.GetResource("ComesWithSchoolBus")
                                    </label>
                                </div>

                            </div>
                            <div class="row">

                                <div class="checkbox rtl checkbox-aqua">

                                    @Html.EditorFor(a => a.LeaveswithSchoolBus, "CheckBox", new { Value = Model.LeaveswithSchoolBus })
                                    <label for="LeaveswithSchoolBus">
                                        @R.GetResource("Leaveswithschoolbus")
                                    </label>
                                </div>

                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("ComingToShoolTour")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.EditorFor(model => model.ComingTourID, "SelectList", new { List = Model.ComingTourList, Disabled = false })
                                    </div>
                                </div>


                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("GoingHomeTour")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.EditorFor(model => model.GoingTourID, "SelectList", new { List = Model.GoingTourList, Disabled = false })
                                    </div>
                                </div>


                            </div>
                            <div class="row">
                                <div class="col-md-3">
                                    <label>@R.GetResource("ComingToSchoolPickup")</label>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.ComingTourOrder, new { @class = "form-control", Name = "number" })
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-3">
                                    <label>@R.GetResource("GoingHomeDropdownOrder")</label>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.GoingTourOrder, new { @class = "form-control", Name = "number" })
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-primary-custom forms nextBtn  @buttonpull" type="button">@R.GetResource("Next")</button>
                        </div>
                    </div>
                </div>

                <div class="row setup-content" id="step-4">
                    <div class="col-xs-12">
                        <div class="col-md-12">
                            <h4 class="htitles">@R.GetResource("Address")</h4>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("Country")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.EditorFor(model => model.Country, "SelectListRequired", new { List = Model.CountriesList, Disabled = false })
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("City")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.City, new { @class = "form-control", required = "required" })
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("Street")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.Street, new { @class = "form-control" })
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("Longitude")</label>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.Longitude, new { @class = "form-control", Name = "number" })
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <a class="show-modal btn btn-info" id="openMapModal">
                                        <i class="fa fa-globe" aria-hidden="true"></i>
                                    </a>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("Latitude")</label>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.Latitude, new { @class = "form-control", Name = "number" })
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("MobileNumber")</label>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.MobileNo, new { @class = "form-control", Name = "number", required = "required" })
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("Email")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.Email, new { @class = "form-control" })
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("PermanentAddress")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.TextAreaFor(m => m.PermanentAddress, new { @class = "form-control" })
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-primary-custom forms nextBtn  @buttonpull" type="button">@R.GetResource("Next")</button>
                        </div>
                    </div>
                </div>

                <div class="row setup-content" id="step-5">
                    <div class="col-xs-12">
                        <div class="col-md-12">
                            <h4 class="htitles">@R.GetResource("SalaryDetails")</h4>
                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-md-3">
                                        <label>@R.GetResource("BasicSalary")</label>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            @Html.TextBoxFor(m => m.BasicSalary, new { @class = "form-control", Name = "number", required = "required" })
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-3">
                                        <label>@R.GetResource("HousingAllowence")</label>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            @Html.TextBoxFor(m => m.HousingAllowence, new { @class = "form-control", Name = "number" })
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <label>@R.GetResource("TransportationStaff")</label>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            @Html.TextBoxFor(m => m.TransportationAllowence, new { @class = "form-control", Name = "number" })
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <label>@R.GetResource("OtherAllowence")</label>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            @Html.TextBoxFor(m => m.OtherAllowence, new { @class = "form-control", Name = "number" })
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-md-3">
                                        <label>@R.GetResource("SocialInsuranceNumber")</label>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            @Html.TextBoxFor(m => m.SocialInsuranceNumber, new { @class = "form-control", Name = "number", required = "requireds" })
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <label>@R.GetResource("SocialInsuranceValue")</label>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            @Html.TextBoxFor(m => m.SocialInsuranceValue, new { @class = "form-control", Name = "number" })
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-3">
                                        <label>@R.GetResource("IncomeTaxNumber")</label>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            @Html.TextBoxFor(m => m.IncomeTaxNumber, new { @class = "form-control", Name = "number" })
                                        </div>
                                    </div>

                                </div>

                                <div class="row">
                                    <div class="col-md-3">
                                        <label>@R.GetResource("IncomeTaxValue")</label>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            @Html.TextBoxFor(m => m.IncomeTaxValue, new { @class = "form-control", Name = "number" })
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>


                        <button class="btn btn-primary-custom forms nextBtn  @buttonpull" type="button">@R.GetResource("Next")</button>
                    </div>
                </div>

                <div class="row setup-content" id="step-6">
                    <div class="col-xs-12">
                        <div class="col-md-12">
                            <h4 class="htitles">@R.GetResource("BankDetails")</h4>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("AccountName")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.AccountName, new { @class = "form-control" })
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("AccountNumber")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.AccountNumber, new { @class = "form-control", Name = "number" })
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("Bank")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @*@Html.EditorFor(model => model.Bank, "SelectList", new { List = Model.BanksList, Disabled = false })*@
                                        @Html.EditorFor(model => model.Bank, "SelectList", new { Disabled = true })
                                    </div>
                                </div>


                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("Branch")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.EditorFor(m => m.Branch, "SelectList", new { Disabled = true })
                                    </div>
                                </div>


                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>@R.GetResource("IbanCode")</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.IBANCode, new { @class = "form-control", Name = "number" })
                                    </div>
                                </div>
                            </div>

                            <button id="btnregisteremployee" class="btn btn-primary-custom forms @buttonpull" type="button">@R.GetResource("Save")</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>


@*MAPs*@
<div class="modal fade" id="myModal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" style="float:@modalpositon;" id="myModalLabel">@R.GetResource("Determinetheemployeeresidencelocation")</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12 modal_body_content">

                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12 modal_body_map">
                        <div id="panel">
                            <div class="search-panel">
                                <div class="details-div mt10">
                                    <div class="col-md-12">
                                        <input type="text" value="Amman, Jordan" class="form-control mr10" name="PickupAddress" placeholder="Sublocality" id="searchTextField" autocomplete="on" runat="server" required="" data-msg-required="Please enter Pick up Address" aria-required="true">
                                        <button class="btn btn info" onclick="createMap();"><i class="fa fa-search" aria-hidden="true"></i>@R.GetResource("Search")</button>

                                        <div><label class="control-label">@R.GetResource("Address"): </label> <input id="address" value="شارع مسعود بن ناصر، شارع مسعود بن ناصر الدوار السابع مقابل البنك العربي مجمع سامي خواجا عمّان،، Amman, Jordan" name="address" type="text" class="form-control border" /></div>
                                        <div class="mt10"><label class="control-label">@R.GetResource("Latitude"):</label>  <input type="text" value="31.9539494" class="form-control" name="latitudemap" id="latitudemap"></div>
                                        <div class="mt10"><label class="control-label"> @R.GetResource("Longitude"):</label> <input type="text" value="35.910635" class="form-control" name="longitudemap" id="longitudemap"></div>
                                    </div>
                                    <br>
                                </div>
                            </div>
                        </div>
                        <div class="location-map" id="location-map">

                            <div style="width: 600px; height: 400px;" id="myMap"></div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12 modal_body_end">
                        <button type="button" class="btn btn-secondary closemodal" style="float:@modalpositon;" data-dismiss="modal">@R.GetResource("Close")</button>
                        <button type="button" id="savelocation" class="btn btn-info" style="float:@modalpositon;">@R.GetResource("SaveLocation")</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    var fileContent = null;
    $(document).ready(function () {

        var isCountryHaveBanks = false;

        $('#openMapModal').click(function () {
            $('#myModal').modal();
        });

        $('#myModal').on('show.bs.modal', function (event) {
            var input = document.getElementById('searchTextField');
            var autocomplete = new google.maps.places.Autocomplete(input);
            google.maps.event.addListener(autocomplete, 'place_changed', function () {
                var place = autocomplete.getPlace();
                $('#latitudemap').val(place.geometry.location.lat());
                $('#longitudemap').val(place.geometry.location.lng());
            });
            createMap();

            $("#location-map").css("width", "100%");
            $("#myMap").css("width", "100%");
        });

        // Trigger map resize event after modal shown
        $(".show-modal").click(function () {
            $("#myModal").modal({
                backdrop: 'static',
                keyboard: false
            });
        });

        $("#savelocation").on('click', function (e) {
            longitudemap = $("#longitudemap").val();
            latitudemap = $("#latitudemap").val();
            $("#Longitude").val(longitudemap);
            $("#Latitude").val(latitudemap);
            $(".closemodal").click();
            $('body').removeClass('modal-open');
            $('body').css('padding-right', '0px');
            $('.modal-backdrop').remove();
        });

        $('#Bank').on('change', function (e) {
            debugger;
            var BankCode = $("#Bank option:selected").val();

            $.ajax({
                type: "GET",
                url: "GetBankBranchesByBankCode",
                data: { 'BankCode': BankCode },
                dataType: "json",
                success: function (response) {
                    debugger;
                    if (response != null) {
                        var s = '';
                        if ('@CurrentLanguage' === 'English') {
                            s += '<option value="0">Select Branch</option>';
                            for (var i = 0; i < response.result.length; i++) {
                                s += '<option value="' + response.result[i].BranchCode + '">' + response.result[i].BranchEnglishName + ' - ' + response.result[i].BranchAddress + '</option>';
                            }
                        }
                        else {
                            s += '<option value="0">إختار فرع</option>';
                            for (var i = 0; i < response.result.length; i++) {
                                s += '<option value="' + response.result[i].BranchCode + '">' + response.result[i].BranchArabicName + ' - ' + response.result[i].BranchAddress + '</option>';
                            }
                        }
                        //for (var i = 0; i < response.result.length; i++) {
                        //    var s;
                        //    s += '<option value="' + response.result[i].BranchCode + '">' + response.result[i].BranchArabicName + '</option>';

                        //    //$('#Branch').append('<option value="' + arrraylist[i].BranchCode + '">' + arrraylist[i].BranchArabicName + '</option>');
                        //}
                        $("#Branch").html(s);

                        $("#Branch").removeAttr("disabled");

                    }
                },
                failure: function (response) {
                    alert(response.responseText);
                },
                error: function (response) {
                    alert(response.responseText);
                }
            });
        });

        $('#Country').on('change', function (e) {
            isCountryHaveBanks = false;
            $("#Bank").empty();
            var countryId = $("#Country option:selected").val();

            $.ajax({
                type: "GET",
                url: "GetBankByCountryId",
                data: { 'countryId': countryId },
                dataType: "json",
                success: function (response) {
                    if (response.Success) {
                        debugger;
                        if (response.Banks.length !== 0) {
                            var s = '';
                            if ('@CurrentLanguage' === 'English') {
                                s += '<option value="0">Select Bank</option>';
                                for (var i = 0; i < response.Banks.length; i++) {
                                    s += '<option value="' + response.Banks[i].BankCode + '">' + response.Banks[i].BanKEnglishName + '</option>';
                                }
                            }
                            else {
                                s += '<option value="0">إختار بنك</option>';
                                for (var i = 0; i < response.Banks.length; i++) {
                                    s += '<option value="' + response.Banks[i].BankCode + '">' + response.Banks[i].BankArabicName + '</option>';
                                }
                            }

                            $("#Bank").html(s);
                            $("#Bank").removeAttr("disabled");
                            isCountryHaveBanks = true;
                        }
                        else {
                            isCountryHaveBanks = false;
                            $("#Bank").empty();
                            $("#Branch").empty();
                            $("#Bank").attr("disabled", "disabled");
                            $("#Branch").attr("disabled", "disabled");
                            Swal.fire({
                                title: "Warning",
                                text: "@R.GetResource("Thechosencountrydoesthaveanybankspleaseselectcountrythathavebankstofillthebankdetails.")",
                                icon: "warning"
                            });
                        }
                    }
                },
                failure: function (response) {
                    alert(response.Message);
                },
                error: function (response) {
                    alert(response.Message);
                }
            });
        });

        $('#Nationality').on('change', function (e) {
            var CountryID = $("#Nationality option:selected").val();

            var NationalNumber = document.getElementById("NationalNumber");
            var MobileNo = document.getElementById("MobileNo");
            if (CountryID == 62) {
                // Egyption.
                NationalNumber.maxLength = 14;
                MobileNo.maxLength = 11;
            }
            else if (CountryID == 109 || CountryID == 188) {
                // Jordan and Saudi Arabia.
                NationalNumber.maxLength = 10;
                MobileNo.maxLength = 10;
            }
            else if (CountryID == 100 || CountryID == 209) {
                // Iraq and Syria.
                NationalNumber.maxLength = 11;
            }

            $.ajax({
                type: "GET",
                url: "GetCountryFlagByCountryID",
                data: { 'CountryID': CountryID },
                dataType: "json",
                success: function (response) {
                    debugger;
                    if (response != null) {
                        $('#FlagImg').css('display', 'block');
                        $("#FlagImg").attr("src", "");
                        $("#FlagImg").attr("src", response.src);
                    }
                },
                failure: function (response) {
                    alert(response.responseText);
                },
                error: function (response) {
                    alert(response.responseText);
                }
            });
        });

        $('#NationalNumber').on('input',function (e) {
            var txtNational = $('#NationalNumber');
            if (txtNational.val() != null && txtNational.val() != '') {
                $("#ResidencyNumber").attr("disabled", "disabled");
                $("#CivilNumber").attr("disabled", "disabled");
            }
            else {
                $("#ResidencyNumber").removeAttr("disabled");
                $("#CivilNumber").removeAttr("disabled");
            }
        });
        $('#ResidencyNumber').on('input', function (e) {
            var txtResidencyNumber = $('#ResidencyNumber');
            if (txtResidencyNumber.val() != null && txtResidencyNumber.val() != '') {
                $("#NationalNumber").attr("disabled", "disabled");
                $("#CivilNumber").attr("disabled", "disabled");
            }
            else {
                $("#NationalNumber").removeAttr("disabled");
                $("#CivilNumber").removeAttr("disabled");
            }
        });
        $('input[name="number"]').keyup(function (e) {
            debugger;
            if (/\D/g.test(this.value)) {
                // Filter non-digits from input value.
                this.value = this.value.replace(/\D/g, '');
                if ($('#NationalNumber').val() == '') {
                    $("#ResidencyNumber").removeAttr("disabled");
                    $("#CivilNumber").removeAttr("disabled");
                }
                if ($('#ResidencyNumber').val() == '') {
                    $("#NationalNumber").removeAttr("disabled");
                    $("#CivilNumber").removeAttr("disabled");
                }
            }

        });

        $("#btnregisteremployee").on("click", function () {
            debugger;
            var formData = new FormData();
            var files = $("#fileuploader").get(0).files;
            var FirstArabicName = $("#FirstArabicName").val();
            var SecondArabicName = $("#SecondArabicName").val();
            var ThirdArabicName = $("#ThirdArabicName").val();
            var FourthArabicName = $("#FourthArabicName").val();
            var FirstEnglishName = $("#FirstEnglishName").val();
            var SecondEnglishName = $("#SecondEnglishName").val();
            var ThirdEnglishName = $("#ThirdEnglishName").val();
            var FourthEnglishName = $("#FourthEnglishName").val();
            var Gender = $("input[name='Gender']:checked").val();
            var NationalNumber = $("#NationalNumber").val();
            var ResidencyNumber = $("#ResidencyNumber").val();
            var DateofBirth = $("#DateofBirth").val();
            var MaritalStatus = $("#MaritalStatus").val();
            var Nationality = $("#Nationality option:selected").val();
            var Attachment = fileContent;
            var Ext = $("#Attachment").val();

            var Department = $("#Department").val();
            var Designation = $("#Designation").val();
            var DateOfJoining = $("#DateOfJoining").val();
            var Qualification = $("#Qualification").val();
            var Specialization = $("#Specialization").val();
            var YearOfExperience = $("#YearOfExperience").val();
            var YearofGraduation = $("#YearofGraduation").val();
            var Institution = $("#Institution").val();
            var UseSchoolTransportation = 0;
            var BusAttendance = 0;
            var LeaveswithSchoolBus = 0;
            if ($("#UseSchoolTransportation").prop("checked") == true) {
                UseSchoolTransportation = -1;
            }
            if ($("#BusAttendance").prop("checked") == true) {
                BusAttendance = -1;
            }
            if ($("#LeaveswithSchoolBus").prop("checked") == true) {
                LeaveswithSchoolBus = -1;
            }
            var ComingTourID = $("#ComingTourID option:selected").val();
            var GoingTourID = $("#GoingTourID option:selected").val();
            var ComingTourOrder = $("#ComingTourOrder").val();
            var GoingTourOrder = $("#GoingTourOrder").val();
            var PermanentAddress = $("#PermanentAddress").val();
            var MobileNo = $("#MobileNo").val();
            var Email = $("#Email").val();
            var Country = $("#Country").val();
            var City = $("#City").val();
            var Street = $("#Street").val();
            var Longitude = $("#Longitude").val();
            var Latitude = $("#Latitude").val();
            var BasicSalary = $("#BasicSalary").val();
            var HousingAllowence = $("#HousingAllowence").val();
            var TransportationAllowence = $("#TransportationAllowence").val();
            var OtherAllowence = $("#OtherAllowence").val();
            var SocialInsuranceNumber = $("#SocialInsuranceNumber").val();
            var SocialInsuranceValue = $("#SocialInsuranceValue").val();
            var IncomeTaxNumber = $("#IncomeTaxNumber").val();
            var IncomeTaxValue = $("#IncomeTaxValue").val();
            var AccountName = $("#AccountName").val();
            var AccountNumber = $("#AccountNumber").val();
            var Bank = $("#Bank").val();
            var Branch = $("#Branch").val();
            var IBANCode = $("#IBANCode").val();
            //var SchoolStaffNumber = $("#SchoolStaffNumber").val();

            formData.append('file', files[0]);
            formData.append('FirstArabicName', FirstArabicName);
            formData.append('SecondArabicName', SecondArabicName);
            formData.append('ThirdArabicName', ThirdArabicName);
            formData.append('FourthArabicName', FourthArabicName);
            formData.append('FirstEnglishName', FirstEnglishName);
            formData.append('SecondEnglishName', SecondEnglishName);
            formData.append('ThirdEnglishName', ThirdEnglishName);
            formData.append('FourthEnglishName', FourthEnglishName);
            formData.append('Gender', Gender);
            formData.append('NationalNumber', NationalNumber);
            formData.append('Nationality', Nationality);
            formData.append('ResidencyNumber', ResidencyNumber);
            formData.append('DateofBirth', DateofBirth);
            formData.append('MaritalStatus', MaritalStatus);
            formData.append('Attachment', Attachment);
            formData.append('Ext', Ext);
            formData.append('Department', Department);
            formData.append('Designation', Designation);
            formData.append('DateOfJoining', DateOfJoining);
            formData.append('Qualification', Qualification);
            formData.append('Specialization', Specialization);
            formData.append('YearOfExperience', YearOfExperience);
            formData.append('YearofGraduation', YearofGraduation);
            formData.append('Institution', Institution);
            formData.append('UseSchoolTransportation', UseSchoolTransportation);
            formData.append('BusAttendance', BusAttendance);
            formData.append('LeaveswithSchoolBus', LeaveswithSchoolBus);
            formData.append('ComingTourID', ComingTourID);
            formData.append('GoingTourID', GoingTourID);
            formData.append('ComingTourOrder', ComingTourOrder);
            formData.append('GoingTourOrder', GoingTourOrder);
            formData.append('PermanentAddress', PermanentAddress);
            formData.append('MobileNo', MobileNo);
            formData.append('Email', Email);
            formData.append('Country', Country);
            formData.append('City', City);
            formData.append('Street', Street);
            formData.append('Longitude', Longitude);
            formData.append('Latitude', Latitude);
            formData.append('BasicSalary', BasicSalary);
            formData.append('HousingAllowence', HousingAllowence);
            formData.append('TransportationAllowence', TransportationAllowence);
            formData.append('OtherAllowence', OtherAllowence);
            formData.append('SocialInsuranceNumber', SocialInsuranceNumber);
            formData.append('SocialInsuranceValue', SocialInsuranceValue);
            formData.append('IncomeTaxNumber', IncomeTaxNumber);
            formData.append('IncomeTaxValue', IncomeTaxValue);
            formData.append('AccountName', AccountName);
            formData.append('AccountNumber', AccountNumber);
            formData.append('Bank', Bank);
            formData.append('Branch', Branch);
            formData.append('IBANCode', IBANCode);
            //formData.append('SchoolStaffNumber', SchoolStaffNumber);

            $.ajax({
                type: "POST",
                url: "RegisterEmployee",
                data: formData,
                cache: false,
                contentType: false,
                processData: false,
                success: function (response) {
                    if (response.Success) {
                        $("#btnregisteremployee").prop("disabled", true);
                        $.toast({
                            text: 'تمت عملية الحفظ بنجاح',
                            position: 'top-center',
                            loaderBg: '#ff6849',
                            icon: 'success',
                            hideAfter: 1000,
                            stack: 6
                        });
                        window.setTimeout(function () {
                            // Move to a new location or you can do something else
                            window.location.href = '@Url.Action("AllEmployees", "Employee")';
                        }, 1000);

                    }
                    else {
                       Swal.fire({
                           title: "Error",
                           text: response.Message,
                           icon: "error"
                       });
                    }
                }
            });
        });
    });

    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#profileImage')
                    .attr('src', e.target.result).width(130)
                    .height(130);
            };

            reader.readAsDataURL(input.files[0]);
        }
    }

    function showuploadfile() {
        $("#fileuploader").click();
    }

    function validateFile(input) {
        var allowedExtensions = /(\.pdf)$/i;
        if (!allowedExtensions.exec(input.value)) {
            input.value = '';
            return false;
        }
        return true;
    }

    function readFile(input) {
        if (validateFile(input)) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (event) {
                    fileContent = event.target.result;
                };

                reader.readAsDataURL(input.files[0]);
            }
        }
        else {
            Swal.fire(
                'Information',
                'Please Upload PDF File',
                'info'
            );
        }
    }

</script>